// ASTA MD














































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































const _0x9ed045=_0x3663;(function(_0x577226,_0x4b7301){const _0x474bf4=_0x3663,_0x512ef4=_0x577226();while(!![]){try{const _0x242ea9=-parseInt(_0x474bf4(0x2d))/0x1*(parseInt(_0x474bf4(0x13))/0x2)+parseInt(_0x474bf4(0x1b))/0x3*(-parseInt(_0x474bf4(0x22))/0x4)+-parseInt(_0x474bf4(0x6))/0x5*(-parseInt(_0x474bf4(0x2f))/0x6)+-parseInt(_0x474bf4(0xd))/0x7*(-parseInt(_0x474bf4(0x25))/0x8)+parseInt(_0x474bf4(0x15))/0x9+parseInt(_0x474bf4(0x17))/0xa*(-parseInt(_0x474bf4(0x11))/0xb)+parseInt(_0x474bf4(0x14))/0xc;if(_0x242ea9===_0x4b7301)break;else _0x512ef4['push'](_0x512ef4['shift']());}catch(_0x23331a){_0x512ef4['push'](_0x512ef4['shift']());}}}(_0xc1d5,0x6668b));const axios=require(_0x9ed045(0x2));function _0x3663(_0x3502f8,_0xc1d59f){const _0x3663cc=_0xc1d5();return _0x3663=function(_0xe7cabb,_0x3293e1){_0xe7cabb=_0xe7cabb-0x0;let _0x4125b0=_0x3663cc[_0xe7cabb];return _0x4125b0;},_0x3663(_0x3502f8,_0xc1d59f);}function _0xc1d5(){const _0x100d9f=['Bearer\x20','deployment','*Got\x20an\x20error\x20in\x20redeploying.*\x0a*Please\x20put\x20koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API.*\x0a_Eg:\x20KOYEB_API:api\x20key\x20from\x20https://app.koyeb.com/account/api\x20._','docker','status','key','env','https://app.koyeb.com/v1/deployments/','axios','true','*\x20:\x20_','\x20var\x20from\x20koyeb._','1676245DygTcN','definition','deployments','services','ERRPRING','_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key','split','102431Raybcw','https://app.koyeb.com/v1/services','https://app.koyeb.com/v1/deployments','STOPPING','22soGGqV','patch','2LTEYvP','7239132ChJQtT','5892435JWQOlC','then','1178140EgRFop','latest_deployment_id','exports','application/json;charset=UTF-8','3CJdgAi','data','_update\x20started._','name','https://app.koyeb.com/v1/services/','includes','ERROR','2364904kBtSDQ','Successfuly\x20changed\x20var\x20_','routes','200HjypWC','length','\x20._','ports','/redeploy','push','regions','health_checks','712729VQtjtB','get','6wBcwXI','instance_types','value'];_0xc1d5=function(){return _0x100d9f;};return _0xc1d5();}let koyeb_api=process[_0x9ed045(0x0)]['KOYEB_API'],axiosConfig={'headers':{'Content-Type':_0x9ed045(0x1a),'Authorization':_0x9ed045(0x32)+koyeb_api}};async function get_deployments(){const _0xe20244=_0x9ed045;status=![];let _0x3d1870={'headers':{'Content-Type':_0xe20244(0x1a),'Authorization':_0xe20244(0x32)+koyeb_api}};return await axios[_0xe20244(0x2e)](_0xe20244(0xf),_0x3d1870)[_0xe20244(0x16)](_0xe278be=>{const _0x1f1e6c=_0xe20244;let _0x221d1a=['STOPPED',_0x1f1e6c(0x10),_0x1f1e6c(0x21),_0x1f1e6c(0xa)],_0x2eedb5=[];for(let _0x19905b=0x0;_0x19905b<_0xe278be[_0x1f1e6c(0x1c)]['deployments'][_0x1f1e6c(0x26)];_0x19905b++){!_0x221d1a[_0x1f1e6c(0x20)](_0xe278be[_0x1f1e6c(0x1c)][_0x1f1e6c(0x8)][_0x19905b][_0x1f1e6c(0x36)])&&_0x2eedb5['push'](_0xe278be[_0x1f1e6c(0x1c)]['deployments'][_0x19905b][_0x1f1e6c(0x36)]);}_0x2eedb5[_0x1f1e6c(0x26)]>0x1&&(status=_0x1f1e6c(0x3));}),status;}function checkArray(_0x276f07,_0x1e0217){const _0x29fbbf=_0x9ed045;var _0x11e19a=![];for(var _0x42a630=0x0;_0x42a630<_0x276f07['length'];_0x42a630++){if(_0x276f07[_0x42a630][_0x29fbbf(0x37)]==_0x1e0217){_0x11e19a=!![];break;}}return _0x11e19a;}async function delvar(_0x350f1e){const _0x12f107=_0x9ed045;var _0x4a8a97=![];let {data:_0x4c1044}=await axios[_0x12f107(0x2e)]('https://app.koyeb.com/v1/services',axiosConfig),_0x27fa9f=_0x4c1044['services'][0x0]['id'],_0xc42473=await axios[_0x12f107(0x2e)](_0x12f107(0x1)+_0x4c1044[_0x12f107(0x9)][0x0][_0x12f107(0x18)],axiosConfig),_0xd1681f=checkArray(_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)][_0x12f107(0x7)][_0x12f107(0x0)],_0x350f1e);if(_0xd1681f!==!![])return'_No\x20such\x20env\x20in\x20koyeb._';let _0x4de02a=[];for(var _0x5a3878=0x0;_0x5a3878<_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)][_0x12f107(0x7)][_0x12f107(0x0)]['length'];_0x5a3878++){if(_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)][_0x12f107(0x7)][_0x12f107(0x0)][_0x5a3878][_0x12f107(0x37)]===_0x350f1e)continue;_0x4de02a[_0x12f107(0x2a)](_0xc42473['data'][_0x12f107(0x33)][_0x12f107(0x7)][_0x12f107(0x0)][_0x5a3878]);}let _0x296670={'definition':{'name':_0xc42473['data']['deployment']['definition'][_0x12f107(0x1e)],'routes':_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)][_0x12f107(0x7)]['routes'],'ports':_0xc42473['data'][_0x12f107(0x33)]['definition']['ports'],'env':_0x4de02a,'regions':_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)]['definition'][_0x12f107(0x2b)],'scalings':_0xc42473[_0x12f107(0x1c)]['deployment']['definition']['scalings'],'instance_types':_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)][_0x12f107(0x7)]['instance_types'],'health_checks':_0xc42473[_0x12f107(0x1c)][_0x12f107(0x33)]['definition'][_0x12f107(0x2c)],'docker':_0xc42473[_0x12f107(0x1c)]['deployment'][_0x12f107(0x7)][_0x12f107(0x35)]}};return await axios[_0x12f107(0x12)](_0x12f107(0x1f)+_0x27fa9f,_0x296670,axiosConfig)[_0x12f107(0x16)](_0x4135c0=>{const _0x4afc2d=_0x12f107;_0x4135c0[_0x4afc2d(0x36)]===0xc8?_0x4a8a97='_Successfully\x20deleted\x20'+_0x350f1e+_0x4afc2d(0x5):_0x4a8a97='_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key';}),_0x4a8a97;}async function change_env(_0x7db5da){const _0x362da6=_0x9ed045;var _0x2fad3d='_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key';let {data:_0x22f17e}=await axios[_0x362da6(0x2e)](_0x362da6(0xe),axiosConfig),_0x30e79d=_0x22f17e[_0x362da6(0x9)][0x0]['id'],_0xac4ea3=await axios[_0x362da6(0x2e)](_0x362da6(0x1)+_0x22f17e['services'][0x0][_0x362da6(0x18)],axiosConfig),_0x507d19=_0x7db5da[_0x362da6(0xc)](':'),_0x414cd8=[];for(var _0x4a38a5=0x0;_0x4a38a5<_0xac4ea3[_0x362da6(0x1c)]['deployment'][_0x362da6(0x7)][_0x362da6(0x0)][_0x362da6(0x26)];_0x4a38a5++){_0xac4ea3['data'][_0x362da6(0x33)][_0x362da6(0x7)][_0x362da6(0x0)][_0x4a38a5]['key']===_0x507d19[0x0]?_0x414cd8[_0x362da6(0x2a)]({'scopes':['region:fra'],'key':''+_0x507d19[0x0],'value':''+_0x507d19[0x1]}):_0x414cd8[_0x362da6(0x2a)](_0xac4ea3['data']['deployment']['definition'][_0x362da6(0x0)][_0x4a38a5]);}let _0x87a7d9=checkArray(_0x414cd8,_0x507d19[0x0]);!_0x87a7d9===!![]&&_0x414cd8['push']({'scopes':['region:fra'],'key':''+_0x507d19[0x0],'value':''+_0x507d19[0x1]});let _0x76b294={'definition':{'name':_0xac4ea3[_0x362da6(0x1c)]['deployment']['definition'][_0x362da6(0x1e)],'routes':_0xac4ea3[_0x362da6(0x1c)][_0x362da6(0x33)][_0x362da6(0x7)][_0x362da6(0x24)],'ports':_0xac4ea3['data'][_0x362da6(0x33)]['definition'][_0x362da6(0x28)],'env':_0x414cd8,'regions':_0xac4ea3['data'][_0x362da6(0x33)][_0x362da6(0x7)]['regions'],'scalings':_0xac4ea3[_0x362da6(0x1c)]['deployment'][_0x362da6(0x7)]['scalings'],'instance_types':_0xac4ea3[_0x362da6(0x1c)]['deployment'][_0x362da6(0x7)][_0x362da6(0x30)],'health_checks':_0xac4ea3['data'][_0x362da6(0x33)][_0x362da6(0x7)][_0x362da6(0x2c)],'docker':_0xac4ea3[_0x362da6(0x1c)][_0x362da6(0x33)]['definition'][_0x362da6(0x35)]}};return await axios['patch'](_0x362da6(0x1f)+_0x30e79d,_0x76b294,axiosConfig)[_0x362da6(0x16)](_0x990c1a=>{const _0x56a01b=_0x362da6;_0x990c1a[_0x56a01b(0x36)]===0xc8?_0x2fad3d=_0x56a01b(0x23)+_0x507d19[0x0]+':'+_0x507d19[0x1]+_0x56a01b(0x27):_0x2fad3d=_0x56a01b(0xb);}),_0x2fad3d;}async function getallvar(){const _0x456bdf=_0x9ed045;let {data:_0x3e488b}=await axios['get'](_0x456bdf(0xe),axiosConfig),_0xcf5dea=await axios[_0x456bdf(0x2e)](_0x456bdf(0x1)+_0x3e488b[_0x456bdf(0x9)][0x0][_0x456bdf(0x18)],axiosConfig),_0x4dece4=[];for(var _0x1d0522=0x0;_0x1d0522<_0xcf5dea['data'][_0x456bdf(0x33)][_0x456bdf(0x7)][_0x456bdf(0x0)][_0x456bdf(0x26)];_0x1d0522++){if(!_0xcf5dea[_0x456bdf(0x1c)]['deployment'][_0x456bdf(0x7)][_0x456bdf(0x0)][_0x1d0522][_0x456bdf(0x37)])continue;_0x4dece4[_0x456bdf(0x2a)]('*'+_0xcf5dea['data'][_0x456bdf(0x33)][_0x456bdf(0x7)][_0x456bdf(0x0)][_0x1d0522][_0x456bdf(0x37)]+_0x456bdf(0x4)+_0xcf5dea[_0x456bdf(0x1c)][_0x456bdf(0x33)][_0x456bdf(0x7)]['env'][_0x1d0522][_0x456bdf(0x31)]+'_');}return _0x4dece4['join']('\x0a');}async function getvar(_0x3c09b3){const _0x1a9bde=_0x9ed045;let {data:_0x19c39f}=await axios[_0x1a9bde(0x2e)](_0x1a9bde(0xe),axiosConfig),_0xea0245=await axios['get']('https://app.koyeb.com/v1/deployments/'+_0x19c39f[_0x1a9bde(0x9)][0x0][_0x1a9bde(0x18)],axiosConfig);for(var _0x3fa6f9=0x0;_0x3fa6f9<_0xea0245['data'][_0x1a9bde(0x33)][_0x1a9bde(0x7)]['env'][_0x1a9bde(0x26)];_0x3fa6f9++){if(!_0xea0245[_0x1a9bde(0x1c)]['deployment']['definition']['env'][_0x3fa6f9]['key'])continue;if(_0xea0245[_0x1a9bde(0x1c)][_0x1a9bde(0x33)][_0x1a9bde(0x7)][_0x1a9bde(0x0)][_0x3fa6f9]['key']===_0x3c09b3)return _0xea0245[_0x1a9bde(0x1c)]['deployment'][_0x1a9bde(0x7)][_0x1a9bde(0x0)][_0x3fa6f9]['key']+':'+_0xea0245[_0x1a9bde(0x1c)][_0x1a9bde(0x33)][_0x1a9bde(0x7)][_0x1a9bde(0x0)][_0x3fa6f9][_0x1a9bde(0x31)];}}async function redeploy(){const _0x603bf3=_0x9ed045;var _0x318950=![],_0x5ceea4={'deployment_group':'prod','sha':''};let {data:_0x50eb93}=await axios['get'](_0x603bf3(0xe),axiosConfig),_0x5f1e40=_0x50eb93[_0x603bf3(0x9)][0x0]['id'];try{let _0x15a003=await axios['post'](_0x603bf3(0x1f)+_0x5f1e40+_0x603bf3(0x29),_0x5ceea4,axiosConfig);_0x318950=_0x603bf3(0x1d);}catch(_0xc8df6b){_0x318950=_0x603bf3(0x34);}return _0x318950;}module[_0x9ed045(0x19)]={'redeploy':redeploy,'getvar':getvar,'delvar':delvar,'getallvar':getallvar,'change_env':change_env,'get_deployments':get_deployments};